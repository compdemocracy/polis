{{!-- Copyright (C) 2012-present, Polis Technology Inc. This program is free software: you can redistribute it and/or  modify it under the terms of the GNU Affero General Public License, version 3, as published by the Free Software Foundation. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details. You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. --}}


<div id="comment_shower">

{{#if needSocial}}
{{!-- ================ CONNECT FACEBOOK / TWITTER ================ --}}
<div
  id="socialButtonsVoteView"
  style="
    {{!-- display: none; --}}
    margin: 10px;
    ">
  <div class="protip"><p><i class="fa fa-microphone"></i>&nbsp; {{s.connectToVotePrompt}}</p></div>
  {{#unless hasFacebook}}
    <button id="facebookButtonVoteView" class="facebookButton" style="padding-top: 0px; margin-bottom: 4px;">
      <i class="svgIcon" style="
        display: inline-block;
        position: relative;
        margin-right: 2px;
        top: 6px;
        width: 25px;
        fill: white;
      ">{{> iconFaFacebookSquare25}}</i>
      {{s.connectFacebook}}</button>
  {{/unless}}
  {{#unless hasTwitter}}
    <button id="twitterButtonVoteView" class="twitterButton" style="padding-top: 0px; margin-bottom: 4px;">
    <i class="svgIcon" style="
      display: inline-block;
      position: relative;
      margin-right: 2px;
      top: 8px;
      width: 25px;
      fill: white;
    ">{{> iconFaTwitter25}}</i>
      {{s.connectTwitter}}</button>
  {{/unless}}
</div>

{{else}}  {{!-- !needSocial --}}

{{#if empty}}
  <div  style="margin: 20px;" class="Notification Notification--warning"> {{!-- empty scenario div --}}
  {{#if subscribed}}
    <p class="HeadingF HeadingF--light "><i class="fa fa-bell-o"></i>&nbsp;<strong>{{txt1}}</strong></p>
    <p>{{txt2}}</p>
    <p>
      {{#ifNotIE8}}
        <i class="fa fa-check-square-o" style="font-size: 20px; color: #2ecc71; position: relative; top: 1px"></i>
      {{/ifNotIE8}}
      {{s.notificationsAlreadySubscribed}}
    </p>
  {{else}} {{!-- !subscribed --}}
    {{#if canSubscribe}}
      <p class="HeadingF HeadingF--light "><i class="fa fa-bell-o"></i>&nbsp;<strong>{{txt1}}</strong></p>
      <form role="form" class="FormVertical" id="subscribeEmailForm">
        {{#if email}}
          <p>{{s.notificationsGetNotified}}</p>
          <pre>{{email}}</pre>
        {{else}} {{!-- !email --}}
          <p>{{s.notificationsEnterEmail}}</p>
          <div class="FormVertical-group">
            <label class="FormLabel" for="gatekeeperEmailCreate">{{s.labelEmail}}</label>
            <input type="text" name="email" id="gatekeeperEmailCreate" size="40" class="email FormControl" {{#if readonlyEmail}}readonly{{/if}}>
          </div>
        {{/if}} {{!-- /email --}}
        <div class="FormVertical-group">
          <span id="subscribeBtn" class="Btn Btn-primary unselectable" style="
            text-transform: none;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            background-color: #3498db;
            color: white;
            min-width: 110px;
            height: 40px;
            margin-left: 5px;
            display: inline-block;
            margin-top: 10px;
            {{customBtnStyles}}
            ">{{s.notificationsSubscribeButton}}</span>
        </div>
      </form>
    {{else}} {{!-- !canSubscribe --}}
      <div><strong>{{txt1}}</strong></div>
      <div>{{txt2}}</div>
    {{/if}} {{!-- /canSubscribe --}}
  {{/if}} {{!-- /subscribed --}}
  </div> {{!-- /empty scenario div --}}

{{else}} {{!-- !empty --}}

  <!-- there is a comment to show -->
  <div> {{!-- notempty scenario div --}}
    {{! social stuff }}
    <img
      src="{{social.img}}"
      style="
        width: 36px;
        min-height: 36px;
        min-width: 36px;
        margin-left: 10px;
        margin-top: 10px;
        border-radius: 3px;
        border: 1px solid #ccc;
        "
      ></img>
    <p
      style="
        display: inline;
        position: relative;
        top: -3px;
        font-weight: 700;
        margin-left: 5px;
    ">
      {{social.name}}
      <span style="
        font-weight: 300;
        color: rgba(113, 113, 113, .75);
      ">
        {{#if tweet_id}}
          <a href="https://twitter.com/{{social.screen_name}}/status/{{tweet_id}}" target="_blank">{{s.x_tweeted}}</a>
        {{else}} {{!-- !tweet_id --}}
          {{#if quote_src_url}}
            <a href="{{quote_src_url}}" target="_blank">{{s.x_wrote}}</a>
          {{else}}
            {{s.x_wrote}}
          {{/if}}
        {{/if}} {{!-- /tweet_id --}}
      </span>
      <span style="float:right; margin-right: 10px; margin-top: 5px; font-weight: 300; color: rgba(113, 113, 113, .75)">{{remainingString}}</span>
  {{!-- ========== STAR ========== --}}
  {{!--   <span
          id="starBtn"
          style="
            float:right;
            position: relative;
            ">
          <i
            id="starIcon"
            class="fa
            {{#if starred}}
              fa-star filledStar
            {{else}}
              fa-star-o emptyStar
            {{/if}}"
            style="
              font-size: 18px;
              margin-top: 10px;
              margin-right: 10px;
            ">
          </i>
          <span
            id="starredLabel"
            style="
              display: none;
              position: absolute;
              right: 30px;
              top: 12px;
              font-size: 12px;
              font-weight: 500px;
              width: 300px;
              text-align: right;
            ">
            {{s.tipStarred}}
          </span>
        </span> --}}
    </p>
    {{!-- {{social.twitter_user_id}} --}}
    {{!-- {{social.screen_name}} --}}
    <p style="
      margin-left: 55px; {{!-- 10 + 36 + 5 from social above --}}
      font-weight: 300;
      min-height: 65px;
      position: relative;
      top: -13px;
      width: 70%;
      line-height: 1.3;
      font-size: 14px;
      {{customStyles}}
    ">
     {{txt}}
    </p>
    {{!-- {{createdString}} --}}


  </div> {{!-- /notempty scenario div --}}
{{/if}} {{!-- /empty --}}

{{!--   </div> --}}


{{#if empty}}
  {{!-- nothing --}}
{{else}} {{!-- !empty --}}
  {{#if shouldMod}}
  <div class="modButtonContainer">
    <div
      class="
        flexbox
        justify-content-space-around
        align-items-baseline
        unselectable
      "
      style="
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-flex-flow: row wrap;
        justify-content: flex-start;
        margin-bottom: 20px;
      ">
      <div
        id="spamToggle"
        class="modToggle moderateButton {{#if spamOn}}selectedModerateButton{{/if}}"
        >
        {{s.modSpam}}
      </div>
      <div
        id="otToggle"
        class="modToggle moderateButton {{#if otOn}}selectedModerateButton{{/if}}"
        >
        {{s.modOffTopic}}
      </div>
      <div
        id="importantToggle"
        class="modToggle moderateButton {{#if importantOn}}selectedModerateButton{{/if}}"
        >
        {{s.modImportant}}
      </div>
    </div>
    <div id="modSubmit" class="modToggle moderateSubmitButton">
      {{#if noModSet}}
        {{s.modSubmitInitialState}}
      {{else}}
        {{s.modSubmit}}
      {{/if}}
    </div>
  </div>
  {{else}} {{!-- !shouldMod --}}
    <div
      class="
        reactionButtons
        flexbox
        justify-content-space-around
        align-items-baseline
        unselectable
      "
      style="
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-flex-flow: row wrap;
        justify-content: space-around;
        margin-bottom: 20px;
      ">
      <button
        id="agreeButton"
        class="reactionButton"
        tabindex=101
        >
        <i class="svgIcon" style="
          display: inline-block;
          position: relative;
          margin-right: 2px;
          top: 5px;
          width: 22px;
          fill: #2ecc71;
          ">{{> iconFaCircleCheck}}</i>
        {{s.agree}}
      </button>
      <button
        id="disagreeButton"
        class="reactionButton"
        tabindex=102
        >
        <i class="svgIcon" style="
          display: inline-block;
          position: relative;
          margin-right: 2px;
          top: 5px;
          width: 22px;
          fill: #e74c3c;
          ">{{> iconFaBan}}</i>
        {{s.disagree}}
      </button>
      <button
        id="passButton"
        class="reactionButton"
        tabindex=103
        >
        {{s.pass}}
      </button>
    </div>
  {{/if}} {{!-- /shouldMod --}}

{{/if}} {{!-- /empty --}}


{{/if}}  {{!-- /needSocial --}}

</div> {{!-- /comment_shower div --}}
